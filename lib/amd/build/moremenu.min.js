define ("core/moremenu",["exports"],function(a){"use strict";Object.defineProperty(a,"__esModule",{value:!0});a.default=void 0;var b={actions:{more:"[data-action=\"moremenumore\"]"},regions:{list:"[data-region=\"moremenulistitems\"]",popup:"[data-region=\"moremenupopup\"]",moremenu:"[data-region=\"moremenu\"]"},classes:{observed:"observed",listitem:".nav-item",itemmoremenu:"itemoverflow",hidden:"d-none"}},c=function(a){var c=a.querySelector(b.regions.list),f=a.querySelector(b.regions.popup),g=a.querySelector(b.actions.more);g.addEventListener("click",function(c){window.console.log(c.which);if(f.classList.contains(b.classes.hidden)){d(a)}else{e(a)}});window.addEventListener("click",function(b){if(!b.target.matches(".morenav a")){e(a)}});if("IntersectionObserver"in window){c.classList.add(b.classes.observed);var h=c.querySelectorAll(b.classes.listitem),i=function(d){[].forEach.call(d,function(d){if(.98<d.intersectionRatio){d.target.classList.remove(b.classes.itemmoremenu)}else{d.target.classList.add(b.classes.itemmoremenu)}var h=c.querySelectorAll("."+b.classes.itemmoremenu),i=[].slice.call(h);if(0<i.length){g.classList.remove(b.classes.hidden);var j=i.map(function(a){return a.outerHTML});f.innerHTML=j.join("")}else{g.classList.add(b.classes.hidden);e(a);f.innerHTML=""}})},j=new IntersectionObserver(i,{root:c,threshold:.98});[].forEach.call(h,function(a){j.observe(a)})}},d=function(a){var c=a.querySelector(b.regions.popup),d=a.querySelector(b.actions.more);d.setAttribute("aria-expanded","true");c.classList.remove(b.classes.hidden);if(f){f.focus()}var e=c.querySelectorAll("[role=\"menuitem\"]"),f=!1;if(e&&0<e.length){f=e[0]}},e=function(a){var c=a.querySelector(b.regions.popup),d=a.querySelector(b.actions.more);d.setAttribute("aria-expanded","false");c.classList.add(b.classes.hidden)};a.default={init:c};return a.default});
//# sourceMappingURL=moremenu.min.js.map
